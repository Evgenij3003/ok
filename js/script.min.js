/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/js/script.js":
/*!**************************!*\
  !*** ./src/js/script.js ***!
  \**************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/*==========================================================================================================================================================================*/\r\n/* Проверка устройства, на котором открыта страница */\r\nconst isMobile = {\r\n    Android: function () {\r\n        return navigator.userAgent.match(/Android/i);\r\n    },\r\n    BlackBerry: function () {\r\n        return navigator.userAgent.match(/BlackBerry/i);\r\n    },\r\n    iOS: function () {\r\n        return navigator.userAgent.match(/iPhone|iPad|iPod/i);\r\n    },\r\n    Opera: function () {\r\n        return navigator.userAgent.match(/Opera Mini/i);\r\n    },\r\n    Windows: function () {\r\n        return navigator.userAgent.match(/IEMobile/i);\r\n    },\r\n    any: function () {\r\n        return (\r\n            isMobile.Android() ||\r\n            isMobile.BlackBerry() ||\r\n            isMobile.iOS() ||\r\n            isMobile.Opera() ||\r\n            isMobile.Windows());\r\n    }\r\n};\r\n\r\n\r\nfunction isIE() {\r\n    let ua = navigator.userAgent;\r\n    var is_ie = ua.indexOf(\"MSIE \") > -1 || ua.indexOf(\"Trident/\") > -1;\r\n    return is_ie;\r\n}\r\nif (isIE()) {\r\n    document.querySelector(\"body\").classList.add(\"ie\");\r\n}\r\nif (isMobile.any()) {\r\n    document.querySelector(\"body\").classList.add(\"_touch\");\r\n}\r\n\r\n\r\nfunction testWebP(callback) {\r\n    var webP = new Image();\r\n    webP.onload = webP.onerror = function () {\r\n        callback(webP.height == 2);\r\n    };\r\n    webP.src = \"data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA\";\r\n}\r\ntestWebP(function (support) {\r\n    if (support == true) {\r\n        document.querySelector(\"body\").classList.add(\"_webp\");\r\n    } else {\r\n        document.querySelector(\"body\").classList.add(\"_no-webp\");\r\n    }\r\n});\r\n\r\n\r\n\r\n/*==========================================================================================================================================================================*/\r\n/* Глобальные константы и переменные */\r\nconst mediaQuery = 61.99875;\r\nconst mediaQueries = `(max-width: 61.99875em)`;\r\nconst matchMedia = window.matchMedia(mediaQueries);\r\nlet lockStatus = false;                                                             // Статус блокировки действий пользователя в body.\r\n\r\n\r\n\r\n/*==========================================================================================================================================================================*/\r\n/* Функции Анимации */\r\nlet _slideUp = (target, duration = 500, showmore = 0) => {\r\n    if (!target.classList.contains(\"_slide\")) {\r\n        target.classList.add(\"_slide\");\r\n        target.style.transitionProperty = \"height, margin, padding\";\r\n        target.style.transitionDuration = duration + \"ms\";\r\n        target.style.height = `${target.offsetHeight}px`;\r\n        target.offsetHeight;\r\n        target.style.overflow = \"hidden\";\r\n        target.style.height = showmore ? `${showmore}px` : `0px`;\r\n        target.style.paddingTop = 0;\r\n        target.style.paddingBottom = 0;\r\n        target.style.marginTop = 0;\r\n        target.style.marginBottom = 0;\r\n        window.setTimeout(() => {\r\n            target.hidden = !showmore ? true : false;\r\n            !showmore ? target.style.removeProperty(\"height\") : null;\r\n            target.style.removeProperty(\"padding-top\");\r\n            target.style.removeProperty(\"padding-bottom\");\r\n            target.style.removeProperty(\"margin-top\");\r\n            target.style.removeProperty(\"margin-bottom\");\r\n            !showmore ? target.style.removeProperty(\"overflow\") : null;\r\n            target.style.removeProperty(\"transition-duration\");\r\n            target.style.removeProperty(\"transition-property\");\r\n            target.classList.remove(\"_slide\");\r\n            document.dispatchEvent(new CustomEvent(\"slideUpDone\", {\r\n                detail: {\r\n                    target: target\r\n                }\r\n            }));\r\n        }, duration);\r\n    }\r\n}\r\n\r\n\r\nlet _slideDown = (target, duration = 500, showmore = 0) => {\r\n    if (!target.classList.contains(\"_slide\")) {\r\n        target.classList.add(\"_slide\");\r\n        target.hidden = target.hidden ? false : null;\r\n        showmore ? target.style.removeProperty(\"height\") : null;\r\n        let height = target.offsetHeight;\r\n        target.style.overflow = \"hidden\";\r\n        target.style.height = showmore ? `${showmore}px` : `0px`;\r\n        target.style.paddingTop = 0;\r\n        target.style.paddingBottom = 0;\r\n        target.style.marginTop = 0;\r\n        target.style.marginBottom = 0;\r\n        target.offsetHeight;\r\n        target.style.transitionProperty = \"height, margin, padding\";\r\n        target.style.transitionDuration = duration + \"ms\";\r\n        target.style.height = height + \"px\";\r\n        target.style.removeProperty(\"padding-top\");\r\n        target.style.removeProperty(\"padding-bottom\");\r\n        target.style.removeProperty(\"margin-top\");\r\n        target.style.removeProperty(\"margin-bottom\");\r\n        window.setTimeout(() => {\r\n            target.style.removeProperty(\"height\");\r\n            target.style.removeProperty(\"overflow\");\r\n            target.style.removeProperty(\"transition-duration\");\r\n            target.style.removeProperty(\"transition-property\");\r\n            target.classList.remove(\"_slide\");\r\n            document.dispatchEvent(new CustomEvent(\"slideDownDone\", {\r\n                detail: {\r\n                    target: target\r\n                }\r\n            }));\r\n        }, duration);\r\n    }\r\n}\r\n\r\n\r\nlet _slideToggle = (target, duration = 500) => {\r\n    if (target.hidden) {\r\n        return _slideDown(target, duration);\r\n    } else {\r\n        return _slideUp(target, duration);\r\n    }\r\n}\r\n\r\n\r\n\r\nwindow.onload = function () {\t\r\n    /*==========================================================================================================================================================================*/\r\n    /* Menu Burger */\r\n    if (document.querySelector(\".main-header__icon\")) {\r\n        let delay = 500;\r\n        let moveMenu = false;\r\n        let menuBody = document.querySelector(\".menu-header\");\r\n        let iconMenu = document.querySelector(\".main-header__icon\");\r\n        iconMenu.addEventListener(\"click\", function (e) {\r\n            if (!moveMenu) {\r\n                moveMenu = true;\r\n                if (document.body.classList.contains(\"_lock\")) {\r\n                    bodyLockToggle(true, false, delay);\r\n                    menuClose(menuBody, iconMenu);\r\n                } else {\r\n                    bodyLockToggle(false, false, delay);\r\n                    menuOpen(menuBody, iconMenu);\r\n                }\r\n                setTimeout(() => {\r\n                    moveMenu = false;\r\n                }, delay);\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    function menuOpen(menuBody, iconMenu) {\r\n        document.body.classList.add(\"_menu-open\");\r\n        menuBody.classList.add(\"_active\");\r\n        iconMenu.classList.add(\"_active\");\r\n    }\r\n\r\n\r\n    function menuClose(menuBody, iconMenu) {\r\n        document.body.classList.remove(\"_menu-open\");\r\n        menuBody.classList.remove(\"_active\");\r\n        iconMenu.classList.remove(\"_active\");\r\n    }\r\n\r\n\r\n\r\n    /*==========================================================================================================================================================================*/\r\n    /* Обработка события \"клик\" на документе */\r\n\tdocument.addEventListener(\"click\", documentActions);\t\t\t\t\t\t\t\t\t\r\n\r\n\tfunction documentActions(e) {\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\tconst targetElement = e.target;\r\n        const timeout = 300;\r\n\r\n        // \"Клик\" по пункту меню-родителя в header:\r\n        if (targetElement.getAttribute(\"data-parent-submenu\") && ((window.innerWidth / 16) > mediaQuery)) {\r\n            const targetSubmenu = targetElement.getAttribute(\"data-parent-submenu\");\r\n            if (!targetElement.classList.contains(\"_active\")) {\r\n                const openSubmenu = document.querySelector(\".submenu._open\");\r\n                openSubmenu ? openSubmenu.classList.remove(\"_open\") : null;\r\n                document.querySelector(`.submenu[data-submenu=\"${targetSubmenu}\"]`).classList.add(\"_open\");\r\n                setTimeout(() => {\r\n                    document.body.classList.add(\"submenu-open\");\r\n                }, 200);\r\n                const activeLinkSubmenu = document.querySelector(\"[data-parent-submenu]._active\");\r\n                activeLinkSubmenu ? activeLinkSubmenu.classList.remove(\"_active\"): null;\r\n                targetElement.classList.add(\"_active\");\r\n            } else {\r\n                targetElement.classList.remove(\"_active\");\r\n                document.querySelector(\".submenu._open\").classList.remove(\"_open\");\r\n                setTimeout(() => {\r\n                    document.body.classList.remove(\"submenu-open\");\r\n                }, timeout);\r\n            }\r\n        }\r\n\r\n        // Закрытие submenu по \"клику\" не внутри него и не по пункту меню-родителя:\r\n        if (!targetElement.closest(\".catalog-menu\") && !targetElement.getAttribute(\"data-parent-submenu\") && ((window.innerWidth / 16) > mediaQuery)) {\r\n            const openSubmenu = document.querySelector(\".submenu._open\");\r\n            const activeMenuLink = document.querySelector(\"[data-parent-submenu]._active\");\r\n            openSubmenu ? openSubmenu.classList.remove(\"_open\") : null;\r\n            activeMenuLink ? activeMenuLink.classList.remove(\"_active\") : null;\r\n            setTimeout(() => {\r\n                document.body.classList.remove(\"submenu-open\");\r\n            }, timeout);\r\n        }\r\n\r\n        // Выбор города в попапе \"Поиск городов\":\r\n        if (targetElement.closest(\".results-search__item\")) {\r\n            const selectedCity = targetElement.innerText;\r\n            const activeCity = document.querySelector(\".cities-search__button span\");\r\n            const activeCityPopup = document.querySelector(\".popup-search-cities__title span\");\r\n            activeCity.innerText = selectedCity;\r\n            activeCityPopup.innerText = selectedCity;\r\n        }\r\n        \r\n        // Закрытие мобильного меню:\r\n        if (document.body.classList.contains(\"_menu-open\")) {\r\n            if ((!targetElement.classList.contains(\"main-header__icon\") && !targetElement.closest(\".menu-header\"))\r\n                || targetElement.classList.contains(\"search-button\")) {\r\n                let delay = 500;\r\n                let menuBody = document.querySelector(\".menu-header\");\r\n                let iconMenu = document.querySelector(\".main-header__icon\");\r\n                !targetElement.classList.contains(\"search-button\") ? bodyLockToggle(true, false, delay): null;\r\n                menuClose(menuBody, iconMenu);\r\n            }\r\n        }\r\n\r\n        // \"Клик\" по иконке \"телефоны\" в header:\r\n        if (targetElement.classList.contains(\"phones-header__button\")) {\r\n            if (!targetElement.classList.contains(\"_active\")) {\r\n                targetElement.classList.add(\"_active\");\r\n                document.querySelector(\".phones-header__body\").classList.add(\"_active\");\r\n            } else {\r\n                targetElement.classList.remove(\"_active\");\r\n                document.querySelector(\".phones-header__body\").classList.remove(\"_active\");\r\n            }\r\n\r\n        // Закрытие меню телефонов:\r\n        } else if (!targetElement.classList.contains(\"phones-header__button\") && !targetElement.closest(\".phones-header__body\")) {\r\n            document.querySelector(\".phones-header__button\").classList.remove(\"_active\");\r\n            document.querySelector(\".phones-header__body\").classList.remove(\"_active\");\r\n        }\r\n\t};\r\n\r\n\r\n\r\n    /*==========================================================================================================================================================================*/\r\n    /* Плавная прокрутка к блоку */\r\n    const menuLinks = document.querySelectorAll(\"[data-goto]\");\r\n    if (menuLinks) {\r\n        menuLinks.forEach(elem => {\r\n            elem.addEventListener(\"click\", gotoBlock);\r\n        });\r\n    } \r\n\r\n\r\n    function gotoBlock(e) {\r\n        const targetBlock = e.target.getAttribute(\"data-goto\");\r\n        const targetBlockElement = document.querySelector(targetBlock);\r\n        removeActiveClasses(menuLinks, \"_active\");\r\n        e.target.classList.add(\"_active\");\r\n        if (targetBlockElement) {\r\n            // Закрытие открытого меню:\r\n            document.documentElement.classList.contains(\"_menu-open\") ? menuClose() : null;\r\n            \r\n            \r\n            // Прокрутка:\r\n            let headerBlockHeight = document.querySelector(\".header\").offsetHeight;\r\n            window.scrollTo({\r\n                top: headerBlockHeight \r\n                    ? (targetBlockElement.getBoundingClientRect().top + window.scrollY - headerBlockHeight)\r\n                    : (targetBlockElement.getBoundingClientRect().top + window.scrollY),\r\n                behavior: \"smooth\",\r\n            });\r\n            e.preventDefault();  \r\n        } else {\r\n            console.log(`[gotoBlock]: Такого блока нет на странице: ${targetBlock}`);\r\n        }\r\n    };\r\n\r\n\r\n\r\n    /*==========================================================================================================================================================================*/\r\n    /* Споллеры */\r\n    function spollers() {\r\n        const spollersArray = document.querySelectorAll(\"[data-spollers]\");\r\n        if (spollersArray.length > 0) {\r\n            const spollersRegular = Array.from(spollersArray).filter(function (item, index, self) {\r\n                return !item.dataset.spollers.split(\",\")[0];\r\n            });\t\r\n            if (spollersRegular.length > 0) {\r\n                initSpollers(spollersRegular);\r\n            }\r\n            const spollersMedia = Array.from(spollersArray).filter(function (item, index, self) {\r\n                return item.dataset.spollers.split(\",\")[0];\r\n            });\r\n    \r\n    \r\n            // Инициализация спойлеров с медиа-запросами:\r\n            if (spollersMedia.length > 0) {\r\n                const breakpointsArray = [];\r\n                spollersMedia.forEach(item => {\r\n                    const params = item.dataset.spollers;\r\n                    const breakpoint = {};\r\n                    const paramsArray = params.split(\",\");\r\n                    breakpoint.value = paramsArray[0];\r\n                    breakpoint.type = paramsArray[1] ? paramsArray[1].trim() : \"max\";\r\n                    breakpoint.item = item;\r\n                    breakpointsArray.push(breakpoint);\r\n                });\r\n    \r\n    \r\n                // Получение уникальных брейкпоинтов:\r\n                let mediaQueries = breakpointsArray.map(function (item) {\r\n                    return \"(\" + item.type + \"-width: \" + item.value + \"em),\" + item.value + \",\" + item.type;\r\n                });\r\n                mediaQueries = mediaQueries.filter(function (item, index, self) {\r\n                    return self.indexOf(item) === index;\r\n                });\r\n    \r\n    \r\n                // Работа с брейкпоинтами:\r\n                mediaQueries.forEach(breakpoint => {\r\n                    const paramsArray = breakpoint.split(\",\");\r\n                    const mediaBreakpoint = paramsArray[1];\r\n                    const mediaType = paramsArray[2];\r\n                    const matchMedia = window.matchMedia(paramsArray[0]);\r\n                    const spollersArray = breakpointsArray.filter(function (item) {\r\n                        if (item.value === mediaBreakpoint && item.type === mediaType) {\r\n                            return true;\r\n                        }\r\n                    });\r\n                    matchMedia.addListener(function () {\r\n                        initSpollers(spollersArray, matchMedia);\r\n                    });\r\n                    initSpollers(spollersArray, matchMedia);\r\n                });\r\n            }\r\n    \r\n    \r\n            // Инициализация спойлера:\r\n            function initSpollers(spollersArray, matchMedia = false) {\r\n                spollersArray.forEach(spollersBlock => {\r\n                    spollersBlock = matchMedia ? spollersBlock.item : spollersBlock;\r\n                    if (matchMedia.matches || !matchMedia) {\r\n                        spollersBlock.classList.add(\"_init\");\r\n                        initSpollerBody(spollersBlock);\r\n                        spollersBlock.addEventListener(\"click\", setSpollerAction);\r\n                    } else {\r\n                        spollersBlock.classList.remove(\"_init\");\r\n                        initSpollerBody(spollersBlock, false);\r\n                        spollersBlock.removeEventListener(\"click\", setSpollerAction);\r\n                    }\r\n                });\r\n            }\r\n    \r\n    \r\n            // Работа с контентной частью:\r\n            function initSpollerBody(spollersBlock, hideSpollerBody = true) {\r\n                const spollerTitles = spollersBlock.querySelectorAll(\"[data-spoller]\");\r\n                if (spollerTitles.length > 0) {\r\n                    spollerTitles.forEach(spollerTitle => {\r\n                        if (hideSpollerBody) {\r\n                            spollerTitle.removeAttribute(\"tabindex\");\r\n                            if (!spollerTitle.classList.contains(\"_active\")) {\r\n                                spollerTitle.nextElementSibling.hidden = true;\r\n                            }\r\n                        } else {\r\n                            spollerTitle.setAttribute(\"tabindex\", \"-1\");\r\n                            spollerTitle.nextElementSibling.hidden = false;\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n    \r\n    \r\n            // Управление спойлерами:\r\n            function setSpollerAction(e) {\r\n                const el = e.target;\r\n                if (el.hasAttribute(\"data-spoller\") || el.closest(\"[data-spoller]\")) {\r\n                    const spollerTitle = el.hasAttribute(\"data-spoller\") ? el : el.closest(\"[data-spoller]\");\r\n                    const spollersBlock = spollerTitle.closest(\"[data-spollers]\");\r\n                    const oneSpoller = spollersBlock.hasAttribute(\"data-one-spoller\") ? true : false;\r\n                    if (!spollersBlock.querySelectorAll(\"._slide\").length) {\r\n                        if (oneSpoller && !spollerTitle.classList.contains(\"_active\")) {\r\n                            hideSpollersBody(spollersBlock);\r\n                        }\r\n                        spollerTitle.classList.toggle(\"_active\");\r\n                        _slideToggle(spollerTitle.nextElementSibling, 500);\r\n                    }\r\n                    e.preventDefault();\r\n                }\r\n            }\r\n    \r\n    \r\n            // Скрытие контента \"неактивных\" спойлеров:\r\n            function hideSpollersBody(spollersBlock) {\r\n                const spollerActiveTitle = spollersBlock.querySelector(\"[data-spoller]._active\");\r\n                if (spollerActiveTitle) {\r\n                    spollerActiveTitle.classList.remove(\"_active\");\r\n                    _slideUp(spollerActiveTitle.nextElementSibling, 500);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    spollers();\r\n\r\n\r\n\r\n    /*==========================================================================================================================================================================*/\r\n    /* Включение/выключение споллеров на определенных разрешениях */\r\n    if (document.querySelector(\".submenu\")) {\r\n        const spollersContents = document.querySelectorAll(\".submenu\");\r\n\r\n        // Включение споллеров в меню на экранах менее 61.99875em:\r\n        if ((window.innerWidth / 16) < mediaQuery) {\r\n            onMenuSpollers(spollersContents);\r\n        }\r\n\r\n        // Включение/выключение споллеров в меню:\r\n        matchMedia.addEventListener(\"change\", function () {\r\n            if (matchMedia.matches) {\r\n                onMenuSpollers(spollersContents);\r\n            } else {\r\n                offMenuSpollers(spollersContents);\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n\r\n    /*==========================================================================================================================================================================*/\r\n    /* Включение/выключение споллеров в меню на определенных разрешениях */\r\n    // Функция включения споллеров:\r\n    function onMenuSpollers(spollersContents) { \r\n        spollersContents.forEach(spollerContent => {\r\n            const spollerNumber = spollerContent.getAttribute(\"data-submenu\");\r\n            const spollerButton = document.querySelector(`.menu-header__link[data-parent-submenu=\"${spollerNumber}\"]`);\r\n            spollerContent.classList.remove(\"_open\");\r\n            spollerButton.setAttribute(\"data-spoller\", \"\");\r\n            spollerButton.parentElement.append(spollerContent);\r\n            spollers();\r\n        });\r\n    }\r\n\r\n    // Функция выключения споллеров:\r\n    function offMenuSpollers(spollersContents) { \r\n        const spollersButtons = document.querySelectorAll(\".menu-header__link[data-parent-submenu]\");\r\n        spollersContents.forEach((spollerContent, index) => {\r\n            spollerContent.removeAttribute(\"hidden\");\r\n            spollersButtons[index].removeAttribute(\"data-spoller\");\r\n            spollersButtons[index].classList.remove(\"_active\");\r\n            document.querySelector(\".catalog-menu\").append(spollerContent);\r\n        });\r\n    }\r\n\r\n\r\n\r\n    /*==================================================================================================================================================================*/\r\n    /* Класс Popup */\r\n    class Popup {\r\n        constructor(options) {\r\n            // Classes:\r\n            this.popupClasses = {\r\n                // Body:\r\n                classBodyPopupActive: \"open-popup\",                                     // Класс body при открытом popup.\r\n                // Buttons:\r\n                attributeOpenButton: \"data-popup\",                                      // Атрибут кнопки, вызывающей popup.\r\n                attributeVideo: \"data-video\",                                           // Атрибут кнопки для popup-video.\r\n                attributePosterVideo: \"data-poster\",                                    // Атрибут для постера popup-video.\r\n                attributeVideoYoutube: \"data-youtube\",                                  // Атрибут для кода видео youtube.\r\n                // Elements:\r\n                attributeFixedElements: \"data-fixed\",                                   // Атрибут для элементов с position:fixed.\r\n                // Popup:\r\n                classPopup: \"_popup\",                                                   // Попап.\r\n                classPopupActive: \"popup-open\",                                         // Класс открытого popup. \r\n                classPopupBody: \"_popup-body\",                                          // Тело попапа.\r\n                classPopupContent: \"_popup-content\",                                    // Контент попапа.  \r\n                classPopupCloseButton: \"_popup-close\",                                  // Кнопка, закрывающая popup. \r\n                classPopupVideo: \"popup-video__item\",                                   // Класс элемента для вставки видео.                      \r\n            }\r\n\r\n            // Options:\r\n            this.startOptions = {\r\n                logging: true,                                                          // Вывод информационных сообщений в консоль.\r\n                init: true,                                                             // Инициализация попапов.\r\n                bodyLock: true,                                                         // Блокировка скролла.\r\n                closeEsc: true,                                                         // Закрытие по нажатии на клавишу \"Esc\". \r\n                delay: 800,\r\n                autoplayVideo: false,                                                   // Автовоспроизведение видео при открытии попапа.\r\n                controlsVideo: true,                                                    // Стандартные элементы управления видео. \r\n                // Events:\r\n                on: { \r\n                    beforeOpen: function () {},\r\n                    afterOpen: function () {},\r\n                    beforeClose: function () {},\r\n                    afterClose: function () {},\r\n                },\r\n            }\r\n\r\n            options ? this.popupOptions = {...this.startOptions, ...options} : this.popupOptions = this.startOptions;\r\n\r\n            // Состояния:\r\n            this.bodyLock = false;                                                      // Состояние блокировки скролла.\r\n            this.isOpen = false;                                                        // Состояние попапа: открыт/закрыт.                                                   \r\n            this.nextOpen = false;                                                      // Открытие следующего попапа и закрытие текущего.                                                   \r\n\r\n            // Текущий открытый popup:\r\n            this.openPopup = {\r\n                selector: false,\r\n                element: false,\r\n            }\r\n\r\n            // Предыдущий открытый popup:\r\n            this.previousOpenPopup = {\r\n                selector: false,\r\n                element: false,\r\n            }\r\n\r\n            this.fixedElements = document.querySelectorAll(`[${this.popupClasses.attributeFixedElements}]`);\r\n            this.popupOptions.init ? this.initPopup() : null;\r\n        }\r\n\r\n\r\n        /*=========================================================================*/\r\n        /* Инициализация popup */\r\n        initPopup() {\r\n            const popupButtons = document.querySelectorAll(\"[data-popup]\");\r\n            if (popupButtons) {\r\n                popupButtons.forEach(popupButton => {\r\n                    popupButton.addEventListener(\"click\", function (e) {\r\n                        e.preventDefault();\r\n                        this.getOpenPopup(e.target);\r\n                    }.bind(this));\r\n                });\r\n            }\r\n        }\r\n\r\n\r\n        /*=========================================================================*/\r\n        /* Обработчик событий, вызывающих открытие popup */\r\n        getOpenPopup(targetElement) {\r\n            this.popupButton = targetElement;\r\n            const popupName = this.popupButton.getAttribute(this.popupClasses.attributeOpenButton);\r\n            this.openPopup.selector = popupName;\r\n            this.openPopup.element = document.querySelector(this.openPopup.selector);\r\n\r\n            // Формирование контента попапа \"calculate-popup\" при его вызове:\r\n            if (targetElement.classList.contains(\"action-calculate__button\")) {\r\n                const gatesWidth = targetElement.closest(\".action-calculate__items\").querySelector(\"input[name='gates-width']\").value;\r\n                const gatesHeight = targetElement.closest(\".action-calculate__items\").querySelector(\"input[name='gates-height']\").value;\r\n                const gatesCloth = targetElement.closest(\".action-calculate__items\").querySelector(\"select[name='cloth-gates']\").value;\r\n                const gatesColor = targetElement.closest(\".action-calculate__items\").querySelector(\"select[name='color-gates']\").value;\r\n                this.openPopup.element.querySelector(\"[data-gates-width] span\").innerText = `${gatesWidth} м`;\r\n                this.openPopup.element.querySelector(\"[data-gates-height] span\").innerText = `${gatesHeight} м`;\r\n                this.openPopup.element.querySelector(\"[data-gates-cloth] span\").innerText = `${gatesCloth}`;\r\n                this.openPopup.element.querySelector(\"[data-gates-color] span\").innerText = `${gatesColor}`;\r\n            }\r\n\r\n            this.popupButton.hasAttribute(this.popupClasses.attributeVideo) ? this.popupVideo() : null;\r\n            this.popupButton.hasAttribute(this.popupClasses.attributeVideoYoutube) ? this.popupYoutube() : null;\r\n\r\n            // \"Клик\" на кнопку внутри формы: \r\n            if (targetElement.closest(\"._form\")) {\r\n                const form = targetElement.closest(\"._form\");\r\n                formValidate(form);\r\n                if (!form.querySelector(\"._error\")) {\r\n                    this.openPopup.element ? this.popupOpen() : null;\r\n                }\r\n            } else {\r\n                this.openPopup.element ? this.popupOpen() : null;\r\n            }\r\n        }\r\n\r\n\r\n        /*=========================================================================*/\r\n        // Формирование контента popup-video:\r\n        popupVideo() {\r\n            const pathToVideo = this.popupButton.getAttribute(this.popupClasses.attributeVideo);\r\n            const autoplay = this.popupOptions.autoplayVideo ? \"autoplay\" : \"\";\r\n            const controlsVideo = this.popupOptions.controlsVideo ? \"controls\" : null;\r\n            const poster = this.popupButton.querySelector(`[${this.popupClasses.attributePosterVideo}]`).getAttribute(\"src\");\r\n            this.openPopup.element.querySelector(`.${this.popupClasses.classPopupVideo}`).innerHTML = `\r\n                <video ${autoplay} ${controlsVideo} preload=\"auto\" poster=\"${poster}\">\r\n                    <source type=\"video/mp4\" src=\"${pathToVideo}\">\r\n                </video>`;\r\n        }\r\n\r\n        \r\n        /*=========================================================================*/\r\n        // Формирование контента popup-youtube:\r\n        popupYoutube() {\r\n            this.popupButton.querySelector(\"[data-play]\") ? \r\n                this.popupButton.querySelector(\"[data-play]\").classList.add(\"_hide\")\r\n                : null;\r\n            const codeVideo = this.popupButton.getAttribute(this.popupClasses.attributeVideoYoutube);\r\n            const urlVideo = `https://www.youtube.com/embed/${codeVideo}?rel=0&showinfo=0&autoplay=1`\r\n            const iframe = document.createElement(\"iframe\");\r\n            iframe.setAttribute(\"allowfullscreen\", \"\");\r\n            const autoplay = this.popupOptions.autoplayVideo ? \"autoplay;\" : \"\";\r\n            iframe.setAttribute(\"allow\", `autoplay; encrypted-media`);\r\n            iframe.setAttribute(\"src\", urlVideo);\r\n            this.openPopup.element.querySelector(`.${this.popupClasses.classPopupVideo}`).appendChild(iframe);\r\n        }\r\n\r\n\r\n        /*=========================================================================*/\r\n        /* Открытие popup */\r\n        popupOpen() {\r\n            if (!lockStatus) {\r\n                // Присвоение значения состоянию \"bodyLock\" в зависимости от наличия класса \"lock\" у body: \r\n                this.bodyLock = document.body.classList.contains(\"_lock\") ? true : false;\r\n\r\n                // Если уже имеется открытый попап => ставим состояние \"открытие следующего попапа\" и закрываем текущий:\r\n                if (this.isOpen) {\r\n                    this.nextOpen = true;\r\n                    this.popupClose();\r\n                }\r\n                \r\n                // Если необходимо формировать контент попапа до его открытия: \r\n                // if (document.querySelector(\"._page-doctor\")) formationPopupContent(); \r\n\r\n                // Если контент попапа формируется в зависимости от нажатого элемента:\r\n                // popupName === \"doctor-popup\" ? createPopupContent(this.openPopup.element, this.openPopup.selector) : null;\r\n\r\n                // Создание собственного события перед открытием попапа:\r\n                this.popupOptions.on.beforeOpen(this);\r\n                document.dispatchEvent(new CustomEvent(\"beforePopupOpen\", {\r\n                    detail: {\r\n                        popup: this\r\n                    }\r\n                }));\r\n\r\n                // Присвоение открываемому попапу класса \"popup-open\" и атрибуту \"aria-hidden\" значения false:\r\n                this.openPopup.element.classList.add(this.popupClasses.classPopupActive);\r\n                this.openPopup.element.setAttribute(\"aria-hidden\", \"false\");\r\n\r\n                // Присвоение текущего попапа объекту последнего открытого popup:\r\n                this.previousOpenPopup.selector = this.openPopup.selector;\r\n                this.previousOpenPopup.element = this.openPopup.element;\r\n                \r\n                // Вызов функции обработки блокировки/разблокировки скролла, указание значения попапу \"открыт\" и присвоение body значения \"блокирован\":\r\n                if (!document.body.classList.contains(\"_menu-open\")) {\r\n                    !this.nextOpen ? bodyLockToggle(this.bodyLock, this.fixedElements, this.popupOptions.delay) : null;\r\n                }\r\n                document.body.classList.add(this.popupClasses.classBodyPopupActive);\r\n                this.isOpen = true;\r\n                this.bodyLock = true;\r\n\r\n                // Создание собственного события после открытия попапа:\r\n                this.popupOptions.on.afterOpen(this);\r\n                document.dispatchEvent(new CustomEvent(\"afterPopupOpen\", {\r\n                    detail: {\r\n                        popup: this\r\n                    }\r\n                }));\r\n\r\n                // Если на странице имеется форма с обязательными полями => снимаем у всех полей класс \"ошибка валидации\": \r\n                if (document.querySelector(\"[data-required]\")) {\r\n                    let formBlockRequired = document.querySelectorAll(\"._block-input\");\r\n                    let formInputsRequired = document.querySelectorAll(\"[data-required]\");\r\n                    removeClassesName(formBlockRequired, \"_error\");\t\t\t\t\t\t\r\n                    removeClassesName(formInputsRequired, \"_error\");\r\n                    removeClassesName(formBlockRequired, \"_valid\");\t\t\t\t\t\t\r\n                    removeClassesName(formInputsRequired, \"_valid\");\t\r\n                }\r\n\r\n                // Запуск обработчика событий:\r\n                this.popupEvents();\r\n            }\r\n        }\r\n\r\n\r\n        /*=========================================================================*/\r\n        /* Обработчик событий popup */\r\n        popupEvents() {\r\n            // \"Клик\" на области открытого попапа:\r\n            this.openPopup.element.addEventListener(\"click\", function (e) {\r\n                // Если событие \"клик\" вызывается на области вне контента попапа или на кнопке \"закрыть\":\r\n                if (e.target.classList.contains(`${this.popupClasses.classPopupCloseButton}`) || !e.target.closest(`.${this.popupClasses.classPopupContent}`)) {\r\n                    e.preventDefault();\r\n                    this.nextOpen = false;\t\t\t\t\t\r\n                    this.isOpen ? this.popupClose() : null; \r\n                }\r\n            }.bind(this));\r\n\r\n            // Закрытие по \"клику\" на клавишу \"Esc\":\r\n            document.addEventListener(\"keydown\", function (e) {\r\n                if (this.popupOptions.closeEsc && e.which == 27 && e.code === \"Escape\" && this.isOpen) {\r\n                    e.preventDefault();\r\n                    this.nextOpen = false;\r\n                    this.popupClose();\r\n                }\r\n            }.bind(this));\r\n        }\r\n\r\n\r\n        /*=========================================================================*/\r\n        /* Закрытие popup */\r\n        popupClose() {\r\n            if (!this.isOpen || lockStatus) {\r\n                return;\r\n            }\r\n\r\n            // Создание собственного события перед закрытием попапа:\r\n            this.popupOptions.on.beforeClose(this);\r\n            document.dispatchEvent(new CustomEvent(\"beforePopupClose\", {\r\n                detail: {\r\n                    popup: this\r\n                }\r\n            }));\r\n\r\n            // Очистка контента popup video:\r\n            if (this.openPopup.element.querySelector(`.${this.popupClasses.classPopupVideo}`)) {\r\n                this.openPopup.element.querySelector(`.${this.popupClasses.classPopupVideo}`).innerHTML = \"\";\r\n            }\r\n\r\n            // Удаление у открытого попапа класса \"popup-open\" и присвоение атрибуту \"aria-hidden\" значения true:\r\n            this.previousOpenPopup.element.classList.remove(this.popupClasses.classPopupActive);\r\n            this.previousOpenPopup.element.setAttribute(\"aria-hidden\", \"true\");\r\n\r\n            // Вызов функции обработки блокировки/разблокировки скролла:\r\n            if (!document.body.classList.contains(\"_menu-open\")) {\r\n                !this.nextOpen ? bodyLockToggle(this.bodyLock, this.fixedElements, this.popupOptions.delay): null;\r\n            }\r\n\r\n            // Присвоение body класса \"open-popup\" и состояниям \"попап открыт\" и блокировки скролла значения false:\r\n            document.body.classList.remove(this.popupClasses.classBodyPopupActive);\r\n            this.isOpen = false;\r\n            this.bodyLock = false;\r\n\r\n            // Создание собственного события после закрытия попапа:\r\n            this.popupOptions.on.afterClose(this);\r\n            document.dispatchEvent(new CustomEvent(\"afterPopupClose\", {\r\n                detail: {\r\n                    popup: this\r\n                }\r\n            }));\r\n\r\n            // Показ кнопки play при закрытии видео-попапа: \r\n            this.popupButton.querySelector(\"[data-play]\") ? \r\n            this.popupButton.querySelector(\"[data-play]\").classList.remove(\"_hide\")\r\n            : null;\r\n\r\n            // Если попап имеет форму с обязательными полями => снимаем у всех полей класс \"ошибка валидации\":\r\n            if (this.openPopup.element.querySelector(\"[data-required]\")) {\r\n                let formBlockRequired = document.querySelectorAll(\"._block-input\");\r\n                let formInputsRequired = document.querySelectorAll(\"[data-required]\");\r\n                removeClassesName(formBlockRequired, \"_error\");\t\t\t\t\t\t\r\n                removeClassesName(formInputsRequired, \"_error\");\t\t\t\t\t\t\r\n                removeClassesName(formBlockRequired, \"_valid\");\t\t\t\t\t\t\r\n                removeClassesName(formInputsRequired, \"_valid\");\t\t\t\t\t\t\r\n            } \r\n        }\r\n\r\n\r\n        /*=========================================================================*/\r\n        /* Вывод информационного сообщения */\r\n        setLogging(message) {\r\n            this.selectOptions.logging ? console.log(`[select]: ${message}`) : null;\r\n        }\r\n    }\r\n    new Popup({});\r\n\r\n\r\n\r\n    /*==================================================================================================================================================================*/\r\n    /* Функции блокировки/разблокировки скролла */\r\n    function bodyLockToggle(lock, fixedElements, delay = 500) {\r\n        lock ? bodyUnlock(fixedElements, delay) : bodyLock(fixedElements, delay);\r\n    }\r\n\r\n    // Функция блокировки скролла при открытии элемента:\r\n    function bodyLock(fixedElements, delay) {\r\n        let body = document.querySelector(\"body\");\r\n        if (!lockStatus) {\r\n            const scrollWidth = window.innerWidth - document.querySelector(\".wrapper\").offsetWidth + \"px\";\r\n            if (fixedElements) {\r\n                fixedElements.forEach(fixedElement => {\r\n                    fixedElement.style.marginRight = scrollWidth;\r\n                });\r\n            }\r\n            body.style.paddingRight = scrollWidth;\r\n            body.classList.add(\"_lock\");\r\n            lockStatus = true;\r\n            setTimeout(function () {\r\n                lockStatus = false;\r\n            }, delay);\r\n        }\r\n    }\r\n\r\n\r\n    // Функция разблокировки скролла при закрытии элемента:\r\n    function bodyUnlock(fixedElements, delay) {\r\n        let body = document.querySelector(\"body\");\r\n        if (!lockStatus) {\r\n            setTimeout(() => {\r\n                if (fixedElements) {\r\n                    fixedElements.forEach(fixedElement => {\r\n                        fixedElement.style.marginRight = \"0px\";\r\n                    });\r\n                }\r\n                body.style.paddingRight = \"0px\";\r\n                body.classList.remove(\"_lock\");\r\n            }, delay);\r\n            lockStatus = true;\r\n            setTimeout(function () {\r\n                lockStatus = false;\r\n            }, delay);\r\n        }\r\n    }\r\n\r\n\r\n    // Блокировка скролла при открытии галереи:\r\n    if (document.querySelector(\"[data-fslightbox]\")) {\r\n        let galleryItems = document.querySelectorAll(\"[data-fslightbox]\");\r\n        let body = document.querySelector(\"body\");\r\n        let scrollWidth = window.innerWidth - document.querySelector(\".wrapper\").offsetWidth + \"px\";\r\n        galleryItems.forEach(galleryItem => {\r\n            galleryItem.addEventListener(\"click\", function(e) {\r\n                body.style.marginRight = scrollWidth;\r\n            });\r\n        });\r\n    }\r\n\r\n\r\n\r\n    /*==========================================================================================================================================================================*/\r\n    /* Удаление класса у массива переданных элементов */\r\n    function removeClassesName(elements, className) {\r\n        elements.forEach(elements => {\r\n            elements.classList.remove(className);\r\n        });\t\t\r\n    }\r\n\r\n\r\n\r\n    /*==========================================================================================================================================================================*/\r\n    /* Создание элемента на основе переданных параметров */\r\n    function createSelect(nameAttribute) {\r\n        let select = document.createElement(\"select\");\r\n        select.setAttribute(\"name\", nameAttribute);\r\n        select.setAttribute(\"class\", nameAttribute);\r\n        return select;\r\n    }\r\n\r\n\r\n\r\n    /*==========================================================================================================================================================================*/\r\n    /* Slider Swiper */\r\n    function bildSliders() {\r\n        let sliders = document.querySelectorAll('[class*=\"__wrapper\"]:not(.swiper-wrapper)');\r\n        if (sliders) {\r\n            sliders.forEach(slider => {\r\n                slider.parentElement.classList.add(\"swiper\");\r\n                slider.classList.add(\"swiper-wrapper\");\r\n                for (const slide of slider.children) {\r\n                    slide.classList.add(\"swiper-slide\");\r\n                }\r\n            });\r\n        }\r\n    }\r\n    bildSliders();\r\n\r\n\r\n    function initSliders() {\r\n        // Slider Reviews:\r\n        if (document.querySelector(\".slider-reviews\")) {\r\n            new Swiper(\".slider-reviews\", {\r\n                observer: true,\r\n                observeParents: true,\r\n                watchOverflow: true,\r\n                slidesPerView: 3,\r\n                spaceBetween: 20,\r\n                initialSlide: 0,\r\n                speed: 800,\r\n                keyboard: {\r\n                    enabled: true,\r\n                    onlyInViewport: true,\r\n                    pageUpDown: true,\r\n                },\t\r\n                navigation: {\r\n                    nextEl: \".reviews .swiper-arrow_next\",\r\n                    prevEl: \".reviews .swiper-arrow_prev\"\r\n                },\r\n                pagination: {\r\n                    el: \".reviews__bullets\",\r\n                    type: \"bullets\",\r\n                    clickable: true,\r\n                },\r\n                breakpoints: {\r\n                    1200: {\r\n                        slidesPerView: 3,\r\n                    },\r\n                    850: {\r\n                        slidesPerView: 2,\r\n                    },\r\n                    320: {\r\n                        slidesPerView: 1,\r\n                    }\r\n                },\r\n            });\r\n        }\r\n\r\n        // Slider Articles:\r\n        if (document.querySelector(\".slider-articles\")) {\r\n            new Swiper(\".slider-articles\", {\r\n                observer: true,\r\n                observeParents: true,\r\n                watchOverflow: true,\r\n                slidesPerView: 3,\r\n                spaceBetween: 20,\r\n                initialSlide: 0,\r\n                speed: 800,\r\n                keyboard: {\r\n                    enabled: true,                                        \r\n                    onlyInViewport: true,\t\t\t\t\t\t\t       \r\n                    pageUpDown: true,\r\n                },\t\r\n                navigation: {\r\n                    nextEl: \".articles .swiper-arrow_next\",\r\n                    prevEl: \".articles .swiper-arrow_prev\"\r\n                },\r\n                pagination: {\r\n                    el: \".articles__bullets\",\r\n                    type: \"bullets\",\r\n                    clickable: true,\r\n                },\r\n                breakpoints: {\r\n                    1200: {\r\n                        slidesPerView: 3,\r\n                    },\r\n                    600: {\r\n                        slidesPerView: 2,\r\n                    },\r\n                    320: {\r\n                        slidesPerView: 1,\r\n                    }\r\n                },\r\n            });\r\n        }\r\n\r\n        // Slider Works:\r\n        if (document.querySelector(\".slider-works\")) {\r\n            new Swiper(\".slider-works\", {\r\n                observer: true,\r\n                observeParents: true,\r\n                watchOverflow: true,\r\n                slidesPerView: \"auto\",\r\n                spaceBetween: 20,\r\n                initialSlide: 0,\r\n                speed: 800,\r\n                keyboard: {\r\n                    enabled: true,                                         \r\n                    onlyInViewport: true,\t\t\t\t\t\t\t        \r\n                    pageUpDown: true,\t\t\t\t\t\t\t\t        \r\n                },\t\r\n                navigation: {\r\n                    nextEl: \".works .swiper-arrow_next\",\r\n                    prevEl: \".works .swiper-arrow_prev\"\r\n                },\r\n            });\r\n        }\r\n\r\n        // Slider Gallery:\r\n        if (document.querySelector(\".slider-gallery\")) {\r\n            new Swiper(\".slider-gallery\", {\r\n                observer: true,\r\n                observeParents: true,\r\n                watchOverflow: true,\r\n                slidesPerView: 3,\r\n                spaceBetween: 20,\r\n                initialSlide: 0,\r\n                speed: 800,\r\n                keyboard: {\r\n                    enabled: true,                                         \r\n                    onlyInViewport: true,\t\t\t\t\t\t\t\t    \r\n                    pageUpDown: true,\r\n                },\t\r\n                navigation: {\r\n                    nextEl: \".gallery .swiper-arrow_next\",\r\n                    prevEl: \".gallery .swiper-arrow_prev\"\r\n                },\r\n                breakpoints: {\r\n                    992: {\r\n                        slidesPerView: 3,\r\n                    },\r\n                    768: {\r\n                        slidesPerView: 2,\r\n                    },\r\n                    320: {\r\n                        slidesPerView: \"auto\",\r\n                    }\r\n                },\r\n            });\r\n        }\r\n\r\n        // Slider Team:\r\n        if (document.querySelector(\".slider-team\")) {\r\n            new Swiper(\".slider-team\", {\r\n                observer: true,\r\n                observeParents: true,\r\n                watchOverflow: true,\r\n                slidesPerView: 4,\r\n                spaceBetween: 20,\r\n                initialSlide: 0,\r\n                speed: 600,\r\n                breakpoints: {\r\n                    820: {\r\n                        slidesPerView: 4,\r\n                    },\r\n                    320: {\r\n                        slidesPerView: \"auto\",\r\n                    }\r\n                },\r\n            });\r\n        }\r\n\r\n        // Slider Thanks Clients:\r\n        if (document.querySelector(\".slider-thanks-clients\")) {\r\n            new Swiper(\".slider-thanks-clients\", {\r\n                observer: true,\r\n                observeParents: true,\r\n                watchOverflow: true,\r\n                slidesPerView: 5,\r\n                spaceBetween: 20,\r\n                initialSlide: 0,\r\n                speed: 600,\r\n                breakpoints: {\r\n                    1256: {\r\n                        slidesPerView: 5,\r\n                    },\r\n                    320: {\r\n                        slidesPerView: \"auto\",\r\n                    }\r\n                },\r\n            });\r\n        }\r\n\r\n        // Slider Navigation:\r\n        if (document.querySelector(\".slider-navigation\")) {\r\n            new Swiper(\".slider-navigation\", {\r\n                observer: true,\r\n                observeParents: true,\r\n                watchOverflow: true,\r\n                slidesPerView: \"auto\",\r\n                spaceBetween: 15,\r\n                initialSlide: 0,\r\n                speed: 600,\r\n                navigation: {\r\n                    nextEl: \".articles .swiper-arrow_next\",\r\n                    prevEl: \".articles .swiper-arrow_prev\"\r\n                },\r\n                breakpoints: {\r\n                    768: {\r\n                        spaceBetween: 15,\r\n                    },\r\n                    320: {\r\n                        spaceBetween: 10,\r\n                    }\r\n                },\r\n            });\r\n        }\r\n\r\n        // Slider Video:\r\n        if (document.querySelector(\".slider-video\")) {\r\n            new Swiper(\".slider-video\", {\r\n                observer: true,\r\n                observeParents: true,\r\n                watchOverflow: true,\r\n                slidesPerView: 2,\r\n                spaceBetween: 20,\r\n                initialSlide: 0,\r\n                speed: 800,\r\n                navigation: {\r\n                    nextEl: \".video-gallery .swiper-arrow_next\",\r\n                    prevEl: \".video-gallery .swiper-arrow_prev\"\r\n                },\r\n                pagination: {\r\n                    el: \".video-gallery__bullets\",\r\n                    type: \"bullets\",\r\n                    clickable: true,\r\n                },\r\n                breakpoints: {\r\n                    768: {\r\n                        slidesPerView: 2,\r\n                    },\r\n                    320: {\r\n                        slidesPerView: 1,\r\n                    }\r\n                },\r\n            });\r\n            if (window.innerWidth > 47.99875) {\r\n                let slidesVideo = document.querySelectorAll(\".slide-video\");\r\n                slidesVideo.length > 2 ? document.querySelector(\".video-gallery__slider-arrows\").classList.add(\"_show\") : null;\r\n            }\r\n        }\r\n\r\n        \r\n        // Slider Page Certificates:\r\n        if (document.querySelector(\".slider-certificates-page\")) {\r\n            new Swiper(\".slider-certificates-page\", {\r\n                observer: true,\r\n                observeParents: true,\r\n                watchOverflow: true,\r\n                slidesPerView: \"auto\",\r\n                spaceBetween: 20,\r\n                initialSlide: 0,\r\n                speed: 600,\r\n                navigation: {\r\n                    nextEl: \".certificates-page .swiper-arrow_next\",\r\n                    prevEl: \".certificates-page .swiper-arrow_prev\"\r\n                },\r\n                breakpoints: {\r\n                    768: {\r\n                        spaceBetween: 20,\r\n                    },\r\n                    320: {\r\n                        spaceBetween: 10,\r\n                    }\r\n                },\r\n            });\r\n            if (window.innerWidth > 47.99875) {\r\n                let slidesVideo = document.querySelectorAll(\".slide-certificates-page\");\r\n                slidesVideo.length > 4 ? document.querySelector(\".certificates-page__slider-arrows\").classList.add(\"_show\") : null;\r\n            }\r\n        }\r\n    }\r\n    initSliders();\r\n\r\n\r\n\r\n    /*==========================================================================================================================================================================*/\r\n    // Select */\r\n    if (document.querySelector(\".select_cloth\")) {\r\n        let selectCloth = document.querySelectorAll(\".select_cloth\");\r\n        new Select(selectCloth, {\r\n            selectLabel: true,\r\n            selectLabelText: \"Полотно\",\r\n            scroll: \"200px\",\r\n        });\r\n    }\r\n    if (document.querySelector(\".select_color\")) {\r\n        let selectColor = document.querySelectorAll(\".select_color\");\r\n        new Select(selectColor, {\r\n            selectLabel: true,\r\n            selectLabelText: \"Цвет\",\r\n            scroll: \"300px\",\r\n        });\r\n    }\r\n\r\n\r\n\r\n    /*==========================================================================================================================================================================*/\r\n    /* Динамический Адаптив */\r\n    function dynamicAdapt(type) {\r\n        this.type = type;\r\n    }\r\n\r\n\r\n    // Функция адаптива:\r\n    dynamicAdapt.prototype.init = function () {\r\n        const _this = this;\t\t\r\n        this.оbjects = [];\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// Массив объектов.\r\n        this.daClassname = \"_dynamic_adapt_\";\t\r\n        this.nodes = document.querySelectorAll(\"[data-da]\");\t\t\t\t\t\t\t\t\t\t\t// Массив DOM-элементов.\r\n        for (let i = 0; i < this.nodes.length; i++) {\t\t\t\t\t\t\t\t\t\t\t\t\t// Наполнение оbjects объектами.\r\n            const node = this.nodes[i];\r\n            const data = node.dataset.da.trim();\r\n            const dataArray = data.split(\",\");\r\n            const оbject = {};\r\n            оbject.element = node;\r\n            оbject.parent = node.parentNode;\r\n            оbject.destination = document.querySelector(dataArray[0].trim());\r\n            оbject.breakpoint = dataArray[1] ? dataArray[1].trim() : \"767\";\r\n            оbject.place = dataArray[2] ? dataArray[2].trim() : \"last\";\r\n            оbject.index = this.indexInParent(оbject.parent, оbject.element);\r\n            this.оbjects.push(оbject);\r\n        }\r\n        this.arraySort(this.оbjects);\r\n        this.mediaQueries = Array.prototype.map.call(this.оbjects, function (item) {\t\t\t\t\t// Массив уникальных медиа-запросов.\r\n            return '(' + this.type + \"-width: \" + item.breakpoint + \"em),\" + item.breakpoint;\r\n        }, this);\r\n        this.mediaQueries = Array.prototype.filter.call(this.mediaQueries, function (item, index, self) {\r\n            return Array.prototype.indexOf.call(self, item) === index;\r\n        });\r\n        for (let i = 0; i < this.mediaQueries.length; i++) {\t\t\t\t\t\t\t\t\t\t\t// Навешивание слушателя на медиа-запрос и вызов обработчика \r\n            const media = this.mediaQueries[i];\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// при первом запуске.\r\n            const mediaSplit = String.prototype.split.call(media, ',');\r\n            const matchMedia = window.matchMedia(mediaSplit[0]);\r\n            const mediaBreakpoint = mediaSplit[1];\t\t\t\r\n            const оbjectsFilter = Array.prototype.filter.call(this.оbjects, function (item) {\t\t\t// Массив объектов с подходящим брейкпоинтом.\r\n                return item.breakpoint === mediaBreakpoint;\r\n            });\r\n            matchMedia.addListener(function () {\r\n                _this.mediaHandler(matchMedia, оbjectsFilter);\r\n            });\r\n            this.mediaHandler(matchMedia, оbjectsFilter);\r\n        }\r\n    };\r\n\r\n\r\n    // Функция перемещения:\r\n    dynamicAdapt.prototype.mediaHandler = function (matchMedia, оbjects) {\r\n        if (matchMedia.matches) {\r\n            for (let i = 0; i < оbjects.length; i++) {\r\n                const оbject = оbjects[i];\r\n                оbject.index = this.indexInParent(оbject.parent, оbject.element);\r\n                this.moveTo(оbject.place, оbject.element, оbject.destination);\r\n            }\r\n        } else {\r\n            for (let i = 0; i < оbjects.length; i++) {\r\n                const оbject = оbjects[i];\r\n                if (оbject.element.classList.contains(this.daClassname)) {\r\n                    this.moveBack(оbject.parent, оbject.element, оbject.index);\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n\r\n    // Функция перемещения:\r\n    dynamicAdapt.prototype.moveTo = function (place, element, destination) {\r\n        element.classList.add(this.daClassname);\r\n        if (place === \"last\" || place >= destination.children.length) {\r\n            destination.insertAdjacentElement(\"beforeend\", element);\r\n            return;\r\n        }\r\n        if (place === \"first\") {\r\n            destination.insertAdjacentElement(\"afterbegin\", element);\r\n            return;\r\n        }\r\n        destination.children[place].insertAdjacentElement(\"beforebegin\", element);\r\n    }\r\n\r\n\r\n    // Функция возврата:\r\n    dynamicAdapt.prototype.moveBack = function (parent, element, index) {\r\n        element.classList.remove(this.daClassname);\r\n        if (parent.children[index] !== undefined) {\r\n            parent.children[index].insertAdjacentElement(\"beforebegin\", element);\r\n        } else {\r\n            parent.insertAdjacentElement(\"beforeend\", element);\r\n        }\r\n    }\r\n\r\n\r\n    // Функция получения индекса внутри родителя:\r\n    dynamicAdapt.prototype.indexInParent = function (parent, element) {\r\n        const array = Array.prototype.slice.call(parent.children);\r\n        return Array.prototype.indexOf.call(array, element);\r\n    };\r\n\r\n\r\n    // Функция сортировки массива по breakpoint и place по возрастанию для this.type = min по убыванию для this.type = max:\r\n    dynamicAdapt.prototype.arraySort = function (arr) {\r\n        if (this.type === \"min\") {\r\n            Array.prototype.sort.call(arr, function (a, b) {\r\n                if (a.breakpoint === b.breakpoint) {\r\n                    if (a.place === b.place) {\r\n                        return 0;\r\n                    }\r\n                    if (a.place === \"first\" || b.place === \"last\") {\r\n                        return -1;\r\n                    }\t\r\n                    if (a.place === \"last\" || b.place === \"first\") {\r\n                        return 1;\r\n                    }\r\n                    return a.place - b.place;\r\n                }\t\r\n                return a.breakpoint - b.breakpoint;\r\n            });\r\n        } else {\r\n            Array.prototype.sort.call(arr, function (a, b) {\r\n                if (a.breakpoint === b.breakpoint) {\r\n                    if (a.place === b.place) {\r\n                        return 0;\r\n                    }\t\r\n                    if (a.place === \"first\" || b.place === \"last\") {\r\n                        return 1;\r\n                    }\r\n                    if (a.place === \"last\" || b.place === \"first\") {\r\n                        return -1;\r\n                    }\r\n                    return b.place - a.place;\r\n                }\t\r\n                return b.breakpoint - a.breakpoint;\r\n            });\r\n            return;\r\n        }\r\n    };\r\n    const da = new dynamicAdapt(\"max\");\r\n    da.init();\r\n\r\n\r\n\r\n    /*==================================================================================================================================================================*/\r\n    /* Tabs */\r\n    function tabs() {\r\n        const tabs = document.querySelectorAll(\"[data-tabs]\");\r\n        if (tabs.length > 0) {\r\n            tabsInit(tabs); \r\n        }\r\n\r\n        /*=========================================================================*/\r\n        /* Инициализация табов */\r\n        function tabsInit(tabs, tabsActiveHash) {\r\n            tabs.forEach((tabsItem, index) => {\r\n                const tabsTitles = Array.from(tabsItem.querySelector(\"[data-tabs-titles]\").children);\r\n                const tabsContents = Array.from(tabsItem.querySelector(\"[data-tabs-body]\").children);\r\n                tabsItem.classList.add(\"tab-init\");\r\n                tabsItem.setAttribute(\"data-tabs-index\", index);\r\n                const mediaQueryValue = tabsItem.getAttribute(\"data-tabs\");\r\n\r\n                // Обрабатываем заголовки и контент табов:\r\n                tabsContents.forEach((tabsContent, index) => {\r\n                    tabsContent.setAttribute(\"data-tabs-item\", \"\");\r\n                    index === 0 ? null : tabsContent.setAttribute(\"hidden\", \"\");\r\n                    if (tabsTitles[index]) {\r\n                        const tabsTitle = tabsTitles[index];\r\n                        tabsTitle.setAttribute(\"data-tabs-title\", \"\");\r\n                        // Если событие \"клик\" срабатывает на заголовке табов и НЕ в момент переключения табов => вызываем обработчик события \"клик\":\r\n                        tabsTitle.addEventListener(\"click\", function(e) {\r\n                            !tabsItem.classList.contains(\"tab-change\") ? tabsAction(e) : null;\r\n                        });\r\n                    }\r\n                });\r\n\r\n                // Если атрибут data-tabs не пустой (табы-споллеры) => обрабатываем данный блок табов:\r\n                Number(mediaQueryValue) ? tabsMediaInit(tabsItem, tabsTitles, tabsContents, Number(mediaQueryValue)): null;\r\n            });\r\n        }\r\n\r\n\r\n        /*=========================================================================*/\r\n        /* Обработчик медиа-запроса для табов-споллеров */\r\n        function tabsMediaInit(tabsItem, tabsTitles, tabsContents, mediaQueryValue) {\r\n            const mediaQueryUnit = tabsItem.getAttribute(\"data-unit\") ? tabsItem.getAttribute(\"data-unit\"): \"px\";\r\n            const mediaQueries = `(max-width: ${mediaQueryValue}${mediaQueryUnit})`;\r\n            const matchMedia = window.matchMedia(mediaQueries);\r\n            // Изменение состояния медиа-запроса (брейкпоинт):\r\n            matchMedia.addEventListener(\"change\", function () {\r\n                changeTabSpoller(tabsItem, tabsTitles, tabsContents, matchMedia);\r\n            });\r\n            changeTabSpoller(tabsItem, tabsTitles, tabsContents, matchMedia);\r\n        }\r\n\r\n\r\n        /*=========================================================================*/\r\n        /* Переключение табов в споллеры и обратно */\r\n        function changeTabSpoller(tabsItem, tabsTitles, tabsContents, matchMedia) {\r\n            tabsContents.forEach((tabsContent, index) => {\r\n                if (matchMedia.matches) {\r\n                    tabsContent.parentElement.append(tabsTitles[index]);\r\n                    tabsContent.parentElement.append(tabsContent);\r\n                    tabsItem.classList.add(\"tab-spoller\");\r\n                } else {\r\n                    tabsItem.querySelector(\"[data-tabs-titles]\").append(tabsTitles[index]);\r\n                    tabsItem.classList.remove(\"tab-spoller\");\r\n                }\r\n            });\r\n        }\r\n\r\n        \r\n        /*=========================================================================*/\r\n        /* Обработка события \"клик\" на заголовке */\r\n        function tabsAction(e) {\r\n            const targetElement = e.target;\r\n            const tabsItem = e.target.closest(\"[data-tabs]\");\r\n            const tabTitle = targetElement.closest(\"[data-tabs-title]\");\r\n            const timeout = tabsItem.dataset.tabsAnimate ? tabsItem.dataset.tabsAnimate : 0;\r\n            if (!tabTitle.classList.contains(\"tab-active\")) {\r\n                tabsItem.classList.add(\"tab-change\");\r\n                    setTimeout(() => {\r\n                        tabsItem.classList.remove(\"tab-change\");\r\n                }, timeout);\r\n                const tabActiveTitle = tabsItem.querySelector(\"[data-tabs-title].tab-active\");\r\n                tabActiveTitle ? tabActiveTitle.classList.remove(\"tab-active\") : null;\r\n                tabTitle.classList.add(\"tab-active\");\r\n                tabsChange(tabsItem, timeout);\r\n            }\r\n            e.preventDefault();\r\n        }\r\n\r\n\r\n        /*=========================================================================*/\r\n        /* Переключение табов */\r\n        function tabsChange(tabsItem, timeout) {\r\n            const tabsTitles = Array.from(tabsItem.querySelector(\"[data-tabs-titles]\").children);\r\n            const tabsContents = Array.from(tabsItem.querySelector(\"[data-tabs-body]\").children);\r\n            if (tabsContents.length > 0) {\r\n                tabsContents.forEach((tabsContent, index) => {\r\n                    if (tabsTitles[index]) {\r\n                        if (tabsTitles[index].classList.contains(\"tab-active\")) {\r\n                            timeout ? _slideDown(tabsContent, timeout): tabsContent.removeAttribute(\"hidden\");\r\n                        } else {\r\n                            timeout ? _slideUp(tabsContent, timeout): tabsContent.setAttribute(\"hidden\", \"\");\r\n                        };\r\n                    }\r\n                })\r\n            }\r\n        }\r\n    }\r\n    tabs();\r\n\r\n\r\n\r\n    /*==========================================================================================================================================================================*/\r\n    /* Динамическая длина для input:number */\r\n    if (document.querySelector(\".action-calculate__input input[type='number']\")) {\r\n        const inputsNumber = document.querySelectorAll(\".action-calculate__input input[type='number']\");\r\n        inputsNumber.forEach(inputNumber => {\r\n            let inputValueLength = inputNumber.value.length;\r\n            inputValueLength >= 8 ? inputNumber.style.width = `8ch` : inputNumber.style.width = `${inputValueLength}ch`;\r\n            inputNumber.addEventListener(\"input\", function() {\r\n                inputNumber.value <= 0 ? inputNumber.value = 1: null;\r\n                inputValueLength = inputNumber.value.length;\r\n                inputValueLength >= 8 ? inputNumber.style.width = `8ch` : inputNumber.style.width = `${inputValueLength}ch`;\r\n            })\r\n        });\r\n    }\r\n\r\n\r\n\r\n    /*==========================================================================================================================================================================*/\r\n    /* Showmore */\r\n    if (document.querySelector(\"._page-promotions\")) {\r\n        let cards = document.querySelectorAll(\".item-promotion\");\r\n        let showMoreButton = document.querySelector(\".promotions__more\");\r\n        showMore(cards, showMoreButton, 8, 8);\r\n    }\r\n\r\n\r\n    // Функция \"показать еще\":\r\n    function showMore(cards, showMoreButton, visibleCards, cardsOpen) {\r\n        for (let i = 0; i < cards.length; i++) {\r\n            const card = cards[i];\r\n            i >= visibleCards ? card.style.display = \"none\" : null; \r\n        }\r\n        showMoreButton.addEventListener(\"click\", () => {\r\n            visibleCards += cardsOpen;\r\n            const columns = Array.from(cards);\r\n            const visibleColumns = columns.slice(0, visibleCards);                           \r\n            if (showMoreButton.closest(\".services-catalog\") || showMoreButton.closest(\".diagnostics-catalog\")) {\r\n                visibleColumns.forEach(column => column.style.display = \"grid\");\r\n            } else if (showMoreButton.closest(\".promotions\")) {\r\n                visibleColumns.forEach(column => column.style.display = \"flex\");\r\n                showMoreButton.closest(\".promotions\").querySelector(\".promotions__items\").style.marginBottom = \"0\";\r\n            } else {\r\n                visibleColumns.forEach(column => column.style.display = \"block\");\r\n            } \r\n            if ((visibleColumns.length === cards.length) || (visibleColumns.length > cards.length)) {  \r\n                if (showMoreButton.closest(\".services-catalog\") || showMoreButton.closest(\".diagnostics-catalog\")) {\r\n                    showMoreButton.parentElement.style.display = \"none\";\r\n                    if (showMoreButton.closest(\".services-catalog\")) {\r\n                        showMoreButton.closest(\".services-catalog\").classList.add(\"_open-all\");\r\n                    }\r\n                } else {\r\n                    showMoreButton.style.display = \"none\";\r\n                    if (showMoreButton.classList.contains(\"comprehensive-services__more\") || showMoreButton.classList.contains(\"popular-services__more\")) {\r\n                        showMoreButton.parentElement.style.marginTop = \"0\";\r\n                    }\r\n                    if (showMoreButton.closest(\".promotions\")) {\r\n                        showMoreButton.closest(\".promotions\").querySelector(\".promotions__items\").style.marginBottom = \"0\";\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    // Страница \"Рецензии\":\r\n    if (document.querySelector(\"._page-reviews\")) {\r\n        let cards = document.querySelectorAll(\".column-reviews\");\r\n        let showMoreButton = document.querySelector(\".reviews-page__all\");\r\n        let visibleCards;\r\n        window.innerWidth / 16 > 78.5 ? visibleCards = 6: visibleCards = 4;\r\n        for (let i = 0; i < cards.length; i++) {\r\n            const card = cards[i];\r\n            i >= visibleCards ? card.style.display = \"none\" : null; \r\n        }\r\n        showMoreButton.addEventListener(\"click\", function(e) {\r\n            showHideMore(cards, showMoreButton, visibleCards, \"block\", \"Скрыть отзывы\");\r\n        });\r\n    }\r\n\r\n\r\n    // Страница \"Статья\":\r\n    if (document.querySelector(\"._page-article\")) {\r\n        let cards = document.querySelectorAll(\".comments__items > ul\");\r\n        let showMoreButton = document.querySelector(\".comments__all\");\r\n        for (let i = 0; i < cards.length; i++) {\r\n            const card = cards[i];\r\n            i >= 3 ? card.style.display = \"none\" : null; \r\n        }\r\n        showMoreButton.addEventListener(\"click\", function(e) {\r\n            showHideMore(cards, showMoreButton, 3, \"grid\", \"Скрыть комментарии\");\r\n        });\r\n    }\r\n\r\n\r\n    // Функция \"показать/скрыть\":\r\n    function showHideMore(cards, showMoreButton, visibleCards, displayProperty, textOpenButton) {\r\n        if (!showMoreButton.classList.contains(\"_open\")) {\r\n            cards.forEach(card => {\r\n                card.style.display = `${displayProperty}`;\r\n            });\r\n            showMoreButton.classList.add(\"_open\");\r\n            showMoreButton.innerText = `${textOpenButton}`;\r\n        } else {\r\n            cards.forEach((card, index) => {\r\n                index + 1 <= visibleCards ? card.style.display = `${displayProperty}` : card.style.display = \"none\";\r\n            });\r\n            showMoreButton.classList.remove(\"_open\");\r\n            showMoreButton.innerText = \"Показать ещё\";\r\n        }\r\n    }\r\n\r\n\r\n    // Info Showmore:\r\n    if (document.querySelector(\".info__text\")) {\r\n        const infoShowmoreButton = document.querySelector(\".info__all\");\r\n        const infoText = document.querySelector(\".info__text\");\r\n        const infoTextHeight = infoText.offsetHeight;\r\n        const infoTextStyles = window.getComputedStyle(infoText);\r\n        const infoTextFontSize = Number(infoTextStyles.fontSize.replace(/[a-zа-яё]/gi, \"\"));\r\n        let lineHeightText;\r\n        (window.innerWidth / 16) > 47.99875 ? lineHeightText = 1.6: lineHeightText = 1.5;\r\n        if (infoTextHeight > ((infoTextFontSize * 8) * lineHeightText)) {\r\n            infoText.style.height = `${(infoTextFontSize * 8) * lineHeightText}px`;\r\n            infoShowmoreButton.style.display = \"block\";\r\n            infoText.classList.add(\"_big\");\r\n            infoShowmoreButton.addEventListener(\"click\", function(e) {\r\n                if (!infoShowmoreButton.classList.contains(\"_hide\")) {\r\n                    infoShowmoreButton.innerText = \"Свернуть текст\";\r\n                    infoText.style.height = \"100%\";\r\n                } else {\r\n                    infoShowmoreButton.innerText = \"Показать ещё\";\r\n                    infoText.style.height = `${(infoTextFontSize * 8) * lineHeightText}px`;\r\n                }\r\n                infoShowmoreButton.classList.toggle(\"_hide\");\r\n                infoText.classList.toggle(\"_open\");\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n\r\n    /*==========================================================================================================================================================================*/\r\n    /* Navigation on Page Articles */\r\n    if (document.querySelector(\"._page-articles\")) {\r\n        let articlesButtons = document.querySelectorAll(\".tabs-articles__title\");\r\n        articlesButtons.forEach(button => {\r\n            button.addEventListener(\"click\", function(e) {\r\n                if (!this.classList.contains(\"_active\")) {\r\n                    document.querySelector(\".tabs-articles__title._active\") \r\n                        ? document.querySelector(\".tabs-articles__title._active\").classList.remove(\"_active\"): null;\r\n                    this.classList.add(\"_active\");\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n\r\n\r\n    /*==========================================================================================================================================================================*/\r\n    /* Изображение-заглушка в блоке \"Наша команда\" на странице About */\r\n    if (document.querySelector(\".slide-team__image\")) {\r\n        let teamImages = document.querySelectorAll(\".slide-team__image\");\r\n        teamImages.forEach(image => {\r\n            console.log(image);\r\n            !image.querySelector(\"img\") ? image.style.backgroundColor = \"transparent\" : null;\r\n        });\r\n    }\r\n    \r\n\r\n\r\n    /*==========================================================================================================================================================================*/\r\n    /* Маска для телефона */\r\n    if (document.querySelector(\"._tel\")) {\r\n        let phoneInputs = document.querySelectorAll(\"._tel\");\r\n    \r\n        let getInputNumbersValue = function (input) {\r\n            return input.value.replace(/\\D/g, \"\");\r\n        }\r\n    \r\n        function onPhonePaste(e) {\r\n            let input = e.target;\r\n            let inputNumbersValue = getInputNumbersValue(input);\r\n            let pasted = e.clipboardData || window.clipboardData;\r\n            if (pasted) {\r\n                let pastedText = pasted.getData(\"Text\");\r\n                if (/\\D/g.test(pastedText)) {\r\n                    // Attempt to paste non-numeric symbol — remove all non-numeric symbols,\r\n                    // formatting will be in onPhoneInput handler\r\n                    input.value = inputNumbersValue;\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n\r\n        function onPhoneInput(e) {\r\n            let input = e.target;\r\n            let inputNumbersValue = getInputNumbersValue(input);\r\n            let selectionStart = input.selectionStart;\r\n            console.log(input.selectionStart);\r\n            let formattedInputValue = \"\";\r\n            if (!inputNumbersValue) {\r\n                return input.value = \"\";\r\n            }\r\n\r\n            if (input.value.length != selectionStart) {\r\n                // Editing in the middle of input, not last symbol\r\n                if (e.data && /\\D/g.test(e.data)) {\r\n                    // Attempt to input non-numeric symbol\r\n                    input.value = inputNumbersValue;\r\n                }\r\n                return;\r\n            }\r\n    \r\n            if ([\"7\", \"8\"].indexOf(inputNumbersValue[0]) > -1) {\r\n                let firstSymbols = (inputNumbersValue[0] == \"8\") ? \"+8\" : \"+7\";\r\n                formattedInputValue = input.value = firstSymbols + \" \";\r\n                if (inputNumbersValue.length > 1) {\r\n                    formattedInputValue += \"(\" + inputNumbersValue.substring(1, 4);\r\n                }\r\n                if (inputNumbersValue.length >= 5) {\r\n                    formattedInputValue += \") \" + inputNumbersValue.substring(4, 7);\r\n                }\r\n                if (inputNumbersValue.length >= 8) {\r\n                    formattedInputValue += \"-\" + inputNumbersValue.substring(7, 9);\r\n                }\r\n                if (inputNumbersValue.length >= 10) {\r\n                    formattedInputValue += \"-\" + inputNumbersValue.substring(9, 11);\r\n                }\r\n            } else {\r\n                formattedInputValue = \"\";\r\n            }\r\n            input.value = formattedInputValue;\r\n        }\r\n\r\n        function onPhoneKeyDown(e) {\r\n            // Clear input after remove last symbol\r\n            let inputValue = e.target.value.replace(/\\D/g, \"\");\r\n            if (e.keyCode == 8 && inputValue.length == 1) {\r\n                e.target.value = \"\";\r\n            }\r\n        }\r\n\r\n        for (let phoneInput of phoneInputs) {\r\n            phoneInput.addEventListener(\"keydown\", function(e) {\r\n                onPhoneKeyDown(e);\r\n            });\r\n            phoneInput.addEventListener(\"input\", function(e) {\r\n                onPhoneInput(e);\r\n            });\r\n            phoneInput.addEventListener(\"paste\", function(e) {\r\n                onPhonePaste(e);\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n\r\n    /*==========================================================================================================================================================================*/\r\n    /* Фокус на input */\r\n    if (document.querySelector(\"._input\")) {\r\n        let inputs = document.querySelectorAll(\"._input\");\r\n        inputs.forEach(input => {\r\n            input.addEventListener(\"focus\", function() {\r\n                input.parentElement.classList.add(\"_focus\");\r\n            });\r\n            input.addEventListener(\"blur\", function() {\r\n                input.parentElement.classList.remove(\"_focus\");\r\n            });\r\n        });\r\n    }\r\n\r\n\r\n\r\n    /*==========================================================================================================================================================================*/\r\n    /* Валидация Формы */\r\n    let forms = document.querySelectorAll(\"._form\");\r\n    let form;\r\n    for (let i = 0; i < forms.length; i++) {\r\n        form = forms[i];\r\n        form.addEventListener(\"submit\", formSend);\r\n    }  \r\n\r\n\r\n    // Функция проверки и обработки результатов валидации формы:\r\n    async function formSend(e) {\r\n        e.preventDefault();\r\n        let error = formValidate(form);\r\n        let formData = new FormData(form);\r\n        if (error === 0) {\r\n            inputRemoveError();\r\n            let response = await fetch(\"form.php\", {\r\n                method: \"POST\",\r\n                body: formData\r\n            });\r\n            if (response.ok) {\r\n                let result = await response.json();\r\n                form.reset();\r\n                document.querySelector(\".popup-message\").classList.add(\"_show\");\r\n                let buttonPopup = document.querySelector(\".popup-message__button\");\r\n                buttonPopup.addEventListener(\"click\", function (e) {\r\n                    this.closest(\".popup-message\").classList.remove(\"_show\");\r\n                });\r\n            } else {\r\n                alert(\"Ошибка отправки\");\r\n            }\r\n        } else {\r\n            alert(\"Заполните обязательные поля\");\r\n        }\r\n    }\r\n                \r\n                \r\n    // Функция валидации формы:\r\n    function formValidate(form) {\r\n        let error = 0;\r\n        let inputsRequired = form.querySelectorAll(\"[data-required]\");\r\n        for (let index = 0; index < inputsRequired.length; index++) {\r\n            const input = inputsRequired[index];\r\n            formRemoveError(input);\r\n            if (input.classList.contains(\"_email\")) {\r\n                if (emailTest(input)) {\r\n                    formAddError(input);\r\n                    error++;\r\n                }\r\n            }\r\n            if (input.classList.contains(\"_tel\")) {\r\n                if (input.value.length !== 18) {\r\n                    formAddError(input);\r\n                    error++;\r\n                }\r\n            } \r\n            if (input.value === \"\") {\r\n                formAddError(input);\r\n                error++;\r\n            }\r\n            if (input.getAttribute(\"type\") === \"checkbox\" && input.checked === false) {\r\n                formAddError(input);\r\n                error++;\r\n            }\r\n        }\r\n        return error;\r\n    }\r\n                \r\n                \r\n    // Функция добавления полю ввода и его родителю класса \"_error\" (ошибка):\r\n    function formAddError(input) {\r\n        input.classList.remove(\"_valid\");\r\n        input.parentElement.classList.remove(\"_valid\");\r\n        input.classList.add(\"_error\");\r\n        input.parentElement.classList.add(\"_error\");\r\n        input.parentElement.querySelector(\"span\").classList.add(\"error-active\");\r\n    }\r\n            \r\n                \r\n    // Функция удаления у поля ввода и его родителя класса \"_error\" (ошибка):\r\n    function formRemoveError(input) {\r\n        input.classList.remove(\"_error\");\r\n        input.parentElement.classList.remove(\"_error\");\r\n        input.parentElement.querySelector(\"span\").classList.remove(\"error-active\");\r\n        input.classList.add(\"_valid\");\r\n        input.parentElement.classList.add(\"_valid\");\r\n    }\r\n\r\n\r\n    // Функция проверки email-адреса:\r\n    function emailTest(input) {\r\n        return !/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,8})+$/.test(input.value);\r\n    }\r\n\r\n\r\n\r\n    /*==========================================================================================================================================================================*/\r\n    /* Скрытие ссылок в блоке \"Интересно\" страницы \"Подкатегория\" */\r\n    if (document.querySelector(\".column-interesting__list\")) {\r\n        const interestingLists = document.querySelectorAll(\".column-interesting__list\");\r\n        interestingLists.forEach(interestingList => {\r\n            if (interestingList.children.length > 7) {\r\n                const interestingListItems = interestingList.querySelectorAll(\".column-interesting__item\");\r\n                interestingListItems.forEach((item, index) => {\r\n                    index > 6 ? item.style.display = \"none\" : null;\r\n                });\r\n            } else {\r\n                interestingList.closest(\".column-interesting__body\").querySelector(\".column-interesting__link\").style.display = \"none\";\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n\r\n    /*==========================================================================================================================================================================*/\r\n    /* Полифилы */\r\n    (function () {\r\n        if (!Element.prototype.closest) {\r\n            Element.prototype.closest = function (css) {\r\n                var node = this;\r\n                while (node) {\r\n                    if (node.matches(css)) return node;\r\n                    else node = node.parentElement;\r\n                }\r\n                return null;\r\n            };\r\n        }\r\n    })();\r\n\r\n\r\n    (function () {\r\n        if (!Element.prototype.matches) {\r\n            Element.prototype.matches = Element.prototype.matchesSelector ||\r\n                Element.prototype.webkitMatchesSelector ||\r\n                Element.prototype.mozMatchesSelector ||\r\n                Element.prototype.msMatchesSelector;\r\n        }\r\n    })();\r\n\r\n\r\n\r\n    /*==========================================================================================================================================================================*/\r\n    /* Yandex Карта */\r\n    if (document.querySelector(\"#map\")) {\r\n\r\n        function yandexMap() {\r\n            let maps = document.querySelectorAll(\"[class*='__map']\");\r\n            maps.forEach(map => {\r\n                init(map);\r\n            });\r\n        }\r\n\r\n        function init(mapElem) {\r\n            let center = [55.735263, 37.569173];\r\n            let map = new ymaps.Map(mapElem, {\r\n                center: center,\r\n                zoom: 10\r\n            });\r\n            map.controls.remove(\"geolocationControl\");                                  // Удаляем геолокацию.\r\n            map.controls.remove(\"searchControl\");                                       // Удаляем поиск.\r\n            map.controls.remove(\"trafficControl\");                                      // Удаляем контроль трафика.\r\n            map.controls.remove(\"typeSelector\");                                        // Удаляем тип.\r\n            map.controls.remove(\"fullscreenControl\");                                   // Удаляем кнопку перехода в полноэкранный режим.\r\n            map.controls.remove(\"zoomControl\");                                         // Удаляем контрол зуммирования.\r\n            map.controls.remove(\"rulerControl\");                                        // Удаляем контрол правил.\r\n            map.behaviors.disable([\"scrollZoom\"]);                                      // Отключаем скролл карты (опционально).\r\n        }\r\n        ymaps.ready(yandexMap);\r\n    }\r\n}\n\n//# sourceURL=webpack://gulp-2022/./src/js/script.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The require scope
/******/ 	var __webpack_require__ = {};
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = {};
/******/ 	__webpack_modules__["./src/js/script.js"](0, __webpack_exports__, __webpack_require__);
/******/ 	
/******/ })()
;